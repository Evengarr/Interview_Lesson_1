Здесь приведен примерная реализация кода из задания 2